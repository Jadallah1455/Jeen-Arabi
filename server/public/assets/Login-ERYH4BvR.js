import{c as u,T as v,u as w,r as t,j as e,f as x,a as N,z as y}from"./index-CuPKqFX8.js";import{E as S}from"./eye-BxlS_Dy0.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L=u("eye-off",E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],I=u("user",z),T=({lang:o,onLogin:g})=>{const d=v[o].admin,p=w(),[l,h]=t.useState(""),[n,b]=t.useState(""),[s,f]=t.useState(!1),[i,k]=t.useState(""),j=async r=>{var c,m;r.preventDefault();try{const a=await N.post("/auth/login",{email:l,password:n});localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data)),g(),p("/admin"),y.success("Logged in successfully")}catch(a){k(((m=(c=a.response)==null?void 0:c.data)==null?void 0:m.message)||"Invalid email or password"),y.error("Login failed")}};return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-background dark:bg-dark-bg px-4 transition-colors duration-300",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-dark-card rounded-2xl shadow-xl dark:shadow-black/30 p-8 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 dark:bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{className:"text-primary dark:text-primary-dark",size:32})}),e.jsx("h2",{className:`text-2xl font-bold text-gray-900 dark:text-white ${o==="ar"?"font-arabic":""}`,children:d.loginTitle})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username or Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",required:!0,value:l,onChange:r=>h(r.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-xl focus:ring-primary focus:border-primary placeholder-gray-400 dark:placeholder-gray-500 transition-colors",placeholder:"Enter username or email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:s?"text":"password",required:!0,value:n,onChange:r=>b(r.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-xl focus:ring-primary focus:border-primary placeholder-gray-400 dark:placeholder-gray-500 transition-colors",placeholder:"admin"}),e.jsx("button",{type:"button",onClick:()=>f(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s?e.jsx(L,{size:20}):e.jsx(S,{size:20})})]})]}),i&&e.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm text-center bg-red-50 dark:bg-red-900/20 py-2 rounded-lg border border-red-100 dark:border-red-900/30",children:i}),e.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors transform hover:-translate-y-0.5",children:d.loginBtn})]})]})})};export{T as Login};
