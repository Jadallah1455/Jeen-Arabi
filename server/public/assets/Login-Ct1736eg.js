import{j as e}from"./pdf-D5M-G2vY.js";import{d as j,r as t}from"./vendor-CvWOdSKG.js";import{e as x,a0 as v,a1 as w,E as N,z as g}from"./ui-DVHeSrky.js";import{T as S,a as E}from"./index-fyEpOTAP.js";import"./utils-B9ygI19o.js";const C=({lang:o,onLogin:u})=>{const d=S[o].admin,y=j(),[l,p]=t.useState(""),[i,b]=t.useState(""),[s,h]=t.useState(!1),[n,f]=t.useState(""),k=async r=>{var c,m;r.preventDefault();try{const a=await E.post("/auth/login",{email:l,password:i});localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data)),u(),y("/admin"),g.success("Logged in successfully")}catch(a){f(((m=(c=a.response)==null?void 0:c.data)==null?void 0:m.message)||"Invalid email or password"),g.error("Login failed")}};return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-background dark:bg-dark-bg px-4 transition-colors duration-300",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-dark-card rounded-2xl shadow-xl dark:shadow-black/30 p-8 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 dark:bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{className:"text-primary dark:text-primary-dark",size:32})}),e.jsx("h2",{className:`text-2xl font-bold text-gray-900 dark:text-white ${o==="ar"?"font-arabic":""}`,children:d.loginTitle})]}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username or Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",required:!0,value:l,onChange:r=>p(r.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-xl focus:ring-primary focus:border-primary placeholder-gray-400 dark:placeholder-gray-500 transition-colors",placeholder:"Enter username or email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:s?"text":"password",required:!0,value:i,onChange:r=>b(r.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-xl focus:ring-primary focus:border-primary placeholder-gray-400 dark:placeholder-gray-500 transition-colors",placeholder:"admin"}),e.jsx("button",{type:"button",onClick:()=>h(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s?e.jsx(w,{size:20}):e.jsx(N,{size:20})})]})]}),n&&e.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm text-center bg-red-50 dark:bg-red-900/20 py-2 rounded-lg border border-red-100 dark:border-red-900/30",children:n}),e.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors transform hover:-translate-y-0.5",children:d.loginBtn})]})]})})};export{C as Login};
